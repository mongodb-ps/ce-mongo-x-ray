var driverCount={};data.forEach(t=>{const e=t.doc.driver.name;void 0===driverCount[e]&&(driverCount[e]=0),driverCount[e]+=t.ips.reduce((t,e)=>t+e.count,0)});var labels=Object.keys(driverCount),values=Object.values(driverCount),colors=labels.map((t,e)=>`hsl(${360*e/labels.length}, 70%, 60%)`);const ctx=document.getElementById("canvas_{name}").getContext("2d");var chart=new Chart(ctx,{type:"pie",data:{labels:labels,datasets:[{data:values,backgroundColor:colors}]},options:{plugins:{title:{display:!0,text:"Client By Driver"},legend:{position:"right",labels:{usePointStyle:!0,pointStyle:"rect"}}}}});charts.push(chart);var ipCount={};data.forEach(t=>{t.ips.forEach(t=>{void 0===ipCount[t.ip]&&(ipCount[t.ip]=0),ipCount[t.ip]+=t.count})});labels=Object.keys(ipCount),values=Object.values(ipCount),colors=labels.map((t,e)=>`hsl(${360*e/labels.length}, 70%, 60%)`);const ctx_ip=document.getElementById("canvas_{name}_ip").getContext("2d");chart=new Chart(ctx_ip,{type:"pie",data:{labels:labels,datasets:[{data:values,backgroundColor:colors}]},options:{plugins:{title:{display:!0,text:"Client By IP"},legend:{position:"right",labels:{usePointStyle:!0,pointStyle:"rect"}}}}});charts.push(chart);