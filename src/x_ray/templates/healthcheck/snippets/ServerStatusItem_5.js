const labels=Object.keys(data),inCacheSizeData=labels.map(a=>data[a].inCacheSize),readIntoData=labels.map(a=>data[a].readInto),writtenFromData=labels.map(a=>Math.abs(data[a].writtenFrom)),forUpdatesData=labels.map(a=>data[a].forUpdates),dirtyData=labels.map(a=>data[a].dirty),cacheSizeData=labels.map(a=>data[a].cacheSize);let wrapper=document.createElement("div"),canvas=document.createElement("canvas");wrapper.className="bar",canvas.className="bar",container.appendChild(wrapper),wrapper.appendChild(canvas);const ctx=canvas.getContext("2d"),chart=new Chart(ctx,{type:"bar",data:{labels:labels,datasets:[{label:"Bytes In Cache",data:inCacheSizeData,backgroundColor:"rgba(54, 162, 235, 0.8)",yAxisID:"y",cacheSizes:cacheSizeData},{label:"Bytes Allocated for Updates",data:forUpdatesData,backgroundColor:"rgba(255, 206, 86, 0.8)",yAxisID:"y",cacheSizes:cacheSizeData},{label:"Bytes Dirty in Cache",data:dirtyData,backgroundColor:"rgba(153, 102, 255, 0.8)",yAxisID:"y",cacheSizes:cacheSizeData},{label:"Bytes Read Into",data:readIntoData,backgroundColor:"rgba(75, 192, 192, 0.8)",yAxisID:"y1"},{label:"Bytes Written From",data:writtenFromData,backgroundColor:"rgba(255, 99, 132, 0.8)",yAxisID:"y1"}]},options:{responsive:!0,scales:{x:{title:{display:!0,text:"Server"}},y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Cache Size (Bytes)"},beginAtZero:!0},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"I/O (Bytes/sec)"},grid:{drawOnChartArea:!1},beginAtZero:!0}},plugins:{title:{display:!0,text:"WiredTiger Cache Statistics"},legend:{display:!0,position:"top"},tooltip:{mode:"point",intersect:!0,callbacks:{label:function(a){const e=a.dataset.label||"",t=a.parsed.y;if("Bytes In Cache"===e&&a.dataset.cacheSizes){const i=(t/a.dataset.cacheSizes[a.dataIndex]*100).toFixed(2);return[e+": "+formatSize(t),"Cache Fill Ratio: "+i+"%"]}if("Bytes Allocated for Updates"===e&&a.dataset.cacheSizes){const i=(t/a.dataset.cacheSizes[a.dataIndex]*100).toFixed(2);return[e+": "+formatSize(t),"Updates Ratio: "+i+"%"]}if("Bytes Dirty in Cache"===e&&a.dataset.cacheSizes){const i=(t/a.dataset.cacheSizes[a.dataIndex]*100).toFixed(2);return[e+": "+formatSize(t),"Dirty Fill Ratio: "+i+"%"]}return e+": "+formatSize(t)+"/s"}}}}}});charts.push(chart);