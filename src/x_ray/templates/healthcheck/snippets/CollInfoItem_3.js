const namespaces=[...new Set(data.map(a=>a.ns))],labels=[...new Set(data.map(a=>a.label))],collFragDatasets=labels.map((a,e)=>{const t=namespaces.map(e=>{const t=data.find(t=>t.ns===e&&t.label===a);return t?100*t.collFrag:0});return{label:a,data:t,backgroundColor:`rgba(${54+80*e}, ${162+30*e}, ${235-50*e}, 0.8)`}}),indexFragDatasets=labels.map((a,e)=>{const t=namespaces.map(e=>{const t=data.find(t=>t.ns===e&&t.label===a);return t?100*t.indexFrag:0});return{label:a,data:t,backgroundColor:`rgba(${255-50*e}, ${99+40*e}, ${132+30*e}, 0.8)`}});let wrapper1=document.createElement("div"),canvas1=document.createElement("canvas");wrapper1.className="bar",canvas1.className="bar",container.appendChild(wrapper1),wrapper1.appendChild(canvas1);const ctx1=canvas1.getContext("2d"),chart1=new Chart(ctx1,{type:"bar",data:{labels:namespaces,datasets:collFragDatasets},options:{indexAxis:"y",scales:{x:{title:{display:!0,text:"Collection Fragmentation (%)"},max:100},y:{title:{display:!0,text:"Namespace"}}},plugins:{title:{display:!0,text:"Collection Fragmentation by Namespace"},legend:{display:!0,position:"right"},tooltip:{callbacks:{label:function(a){return(a.dataset.label||"")+": "+(a.parsed.x||0).toFixed(2)+"%"}}}}}});charts.push(chart1);let wrapper2=document.createElement("div"),canvas2=document.createElement("canvas");wrapper2.className="bar",canvas2.className="bar",container.appendChild(wrapper2),wrapper2.appendChild(canvas2);const ctx2=canvas2.getContext("2d"),chart2=new Chart(ctx2,{type:"bar",data:{labels:namespaces,datasets:indexFragDatasets},options:{indexAxis:"y",scales:{x:{title:{display:!0,text:"Index Fragmentation (%)"},max:100},y:{title:{display:!0,text:"Namespace"}}},plugins:{title:{display:!0,text:"Index Fragmentation by Namespace"},legend:{display:!0,position:"right"},tooltip:{callbacks:{label:function(a){return(a.dataset.label||"")+": "+(a.parsed.x||0).toFixed(2)+"%"}}}}}});charts.push(chart2);